name: Post-Merge Build

# Run tests after PRs are merged to main
# This acts as a safety net for changes that merged without full test coverage (e.g., fork PRs)
on:
  push:
    branches:
      - main
  workflow_dispatch: # Allow manual triggering

permissions:
  contents: read

jobs:
  validate:
    uses: ./.github/workflows/validate.yml
    secrets:
      GARMIN_USERNAME: ${{ secrets.GARMIN_USERNAME }}
      GARMIN_PASSWORD: ${{ secrets.GARMIN_PASSWORD }}

